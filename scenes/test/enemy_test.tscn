[gd_scene load_steps=12 format=4 uid="uid://d02a1dhsu5rpp"]

[ext_resource type="Shader" uid="uid://doivk4aujl8ec" path="res://global/shaders/world.gdshader" id="1_uo4fx"]
[ext_resource type="PackedScene" uid="uid://b7jceqvpo4u46" path="res://scenes/camera/main_camera.tscn" id="1_wgmf2"]
[ext_resource type="PackedScene" uid="uid://mpb3hkk48g22" path="res://scenes/player/player.tscn" id="2_h0fbh"]
[ext_resource type="TileSet" uid="uid://cg5rtat1xuxel" path="res://scenes/world/tileset.tres" id="2_ixnh5"]
[ext_resource type="Script" uid="uid://dd1c2gtjjwpwv" path="res://global/classes/platformer_level_2d.gd" id="3_0hq1c"]
[ext_resource type="PackedScene" uid="uid://dj1t1y67pb7a0" path="res://scenes/enemy/scenes/skeleton.tscn" id="4_47k0x"]
[ext_resource type="PackedScene" uid="uid://bipt1gyeqmyhk" path="res://scenes/weapon/weapon_drop.tscn" id="4_fev5x"]
[ext_resource type="Resource" uid="uid://dtdodnwx0ie3k" path="res://scenes/weapon/weapon_types/silver_pistol.tres" id="5_5sd4j"]
[ext_resource type="Resource" uid="uid://b3372ruxrilmh" path="res://scenes/weapon/weapon_types/sword.tres" id="5_mxtc1"]
[ext_resource type="PackedScene" uid="uid://ujr2ysce8osh" path="res://scenes/player/hud/hud_layer.tscn" id="8_dr5ye"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tpw2d"]
shader = ExtResource("1_uo4fx")
shader_parameter/shadow_size = Vector2(2, 3)
shader_parameter/shadow_color = Color(0, 0, 0, 0.5)

[node name="EnemyTest" type="Node2D"]

[node name="Shaders" type="CanvasGroup" parent="."]
material = SubResource("ShaderMaterial_tpw2d")

[node name="World" type="Node2D" parent="Shaders" groups=["level"]]
script = ExtResource("3_0hq1c")

[node name="Entities" type="Node2D" parent="Shaders/World"]

[node name="Skeleton" parent="Shaders/World/Entities" instance=ExtResource("4_47k0x")]
position = Vector2(259, 121)

[node name="Skeleton2" parent="Shaders/World/Entities" instance=ExtResource("4_47k0x")]
position = Vector2(198, 121)

[node name="block" type="TileMapLayer" parent="Shaders/World"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAABAAAAACAAIAAAD//xAAAAABAAIAAAD//xEAAAABAAQAAAD//xIAAAABAAQAAAD//xMAAAABAAQAAAD//xQAAAABAAQAAAD//xUAAAABAAQAAAD//xYAAAABAAUAAAAAABYAAAADAAUAAAAAABUAAAADAAMAAAAAABQAAAADAAMAAAAAABMAAAADAAMAAAAAABIAAAADAAMAAAAAABEAAAADAAMAAAABABAAAAACAAIAAAACABAAAAACAAIAAAADABAAAAACAAIAAAAEABAAAAACAAIAAAAFABAAAAACAAIAAAAGABAAAAACAAIAAAAHABAAAAACAAIAAAAIABAAAAACAAIAAAAJABAAAAACAAIAAAAJABEAAAADAAMAAAAKABEAAAADAAMAAAALABEAAAADAAMAAAAMABAAAAADAAMAAAALABAAAAAMAAQAAAAKABAAAAACAAIAAAAMABEAAAADAAMAAAAIABEAAAADAAMAAAAHABEAAAADAAMAAAAGABEAAAADAAMAAAAFABEAAAADAAMAAAAEABEAAAADAAMAAAADABEAAAADAAMAAAACABEAAAADAAMAAAABABEAAAADAAMAAAAVABYAAAADAAUAAAAVABUAAAADAAMAAAAVABQAAAADAAMAAAAVABMAAAADAAMAAAAVABIAAAADAAMAAAAVABEAAAADAAMAAAAVABAAAAACAAIAAAAUABYAAAADAAUAAAAUABUAAAADAAMAAAAUABQAAAADAAMAAAAUABMAAAADAAMAAAAUABIAAAADAAMAAAAUABEAAAADAAMAAAAUABAAAAACAAIAAAATABYAAAADAAUAAAATABUAAAADAAMAAAATABQAAAADAAMAAAATABMAAAADAAMAAAATABIAAAADAAMAAAATABEAAAADAAMAAAATABAAAAACAAIAAAASABYAAAADAAUAAAASABUAAAADAAMAAAASABQAAAADAAMAAAASABMAAAADAAMAAAASABIAAAADAAMAAAASABEAAAADAAMAAAASABAAAAACAAIAAAARABYAAAADAAUAAAARABUAAAADAAMAAAARABQAAAADAAMAAAARABMAAAADAAMAAAARABIAAAADAAMAAAARABEAAAADAAMAAAARABAAAAACAAIAAAAQABYAAAADAAUAAAAQABUAAAADAAMAAAAQABQAAAADAAMAAAAQABMAAAADAAMAAAAQABIAAAADAAMAAAAQABEAAAADAAMAAAAQABAAAAACAAIAAAAPABYAAAADAAUAAAAPABUAAAADAAMAAAAPABQAAAADAAMAAAAPABMAAAADAAMAAAAPABIAAAADAAMAAAAPABEAAAADAAMAAAAPABAAAAACAAIAAAAOABYAAAADAAUAAAAOABUAAAADAAMAAAAOABQAAAADAAMAAAAOABMAAAADAAMAAAAOABIAAAADAAMAAAAOABEAAAADAAMAAAAOABAAAAACAAIAAAANABYAAAADAAUAAAANABUAAAADAAMAAAANABQAAAADAAMAAAANABMAAAADAAMAAAANABIAAAADAAMAAAANABEAAAADAAMAAAANABAAAAAJAAQAAAAMABYAAAADAAUAAAAMABUAAAADAAMAAAAMABQAAAADAAMAAAAMABMAAAADAAMAAAAMABIAAAADAAMAAAALABYAAAADAAUAAAALABUAAAADAAMAAAALABQAAAADAAMAAAALABMAAAADAAMAAAALABIAAAADAAMAAAAKABYAAAADAAUAAAAKABUAAAADAAMAAAAKABQAAAADAAMAAAAKABMAAAADAAMAAAAKABIAAAADAAMAAAAJABYAAAADAAUAAAAJABUAAAADAAMAAAAJABQAAAADAAMAAAAJABMAAAADAAMAAAAJABIAAAADAAMAAAAIABYAAAADAAUAAAAIABUAAAADAAMAAAAIABQAAAADAAMAAAAIABMAAAADAAMAAAAIABIAAAADAAMAAAAHABYAAAADAAUAAAAHABUAAAADAAMAAAAHABQAAAADAAMAAAAHABMAAAADAAMAAAAHABIAAAADAAMAAAAGABYAAAADAAUAAAAGABUAAAADAAMAAAAGABQAAAADAAMAAAAGABMAAAADAAMAAAAGABIAAAADAAMAAAAFABYAAAADAAUAAAAFABUAAAADAAMAAAAFABQAAAADAAMAAAAFABMAAAADAAMAAAAFABIAAAADAAMAAAAEABYAAAADAAUAAAAEABUAAAADAAMAAAAEABQAAAADAAMAAAAEABMAAAADAAMAAAAEABIAAAADAAMAAAADABYAAAADAAUAAAADABUAAAADAAMAAAADABQAAAADAAMAAAADABMAAAADAAMAAAADABIAAAADAAMAAAACABYAAAADAAUAAAACABUAAAADAAMAAAACABQAAAADAAMAAAACABMAAAADAAMAAAACABIAAAADAAMAAAABABYAAAADAAUAAAABABUAAAADAAMAAAABABQAAAADAAMAAAABABMAAAADAAMAAAABABIAAAADAAMAAAAoABYAAAAEAAUAAAAoABUAAAAEAAMAAAAoABQAAAAEAAMAAAAoABMAAAAEAAMAAAAoABIAAAAEAAMAAAAoABEAAAAEAAMAAAAoABAAAAAEAAIAAAAnABYAAAADAAUAAAAnABUAAAADAAMAAAAnABQAAAADAAMAAAAnABMAAAADAAMAAAAnABIAAAADAAMAAAAnABEAAAADAAMAAAAnABAAAAACAAIAAAAmABYAAAADAAUAAAAmABUAAAADAAMAAAAmABQAAAADAAMAAAAmABMAAAADAAMAAAAmABIAAAADAAMAAAAmABEAAAADAAMAAAAmABAAAAACAAIAAAAlABYAAAADAAUAAAAlABUAAAADAAMAAAAlABQAAAADAAMAAAAlABMAAAADAAMAAAAlABIAAAADAAMAAAAlABEAAAADAAMAAAAlABAAAAACAAIAAAAkABYAAAADAAUAAAAkABUAAAADAAMAAAAkABQAAAADAAMAAAAkABMAAAADAAMAAAAkABIAAAADAAMAAAAkABEAAAADAAMAAAAkABAAAAACAAIAAAAjABYAAAADAAUAAAAjABUAAAADAAMAAAAjABQAAAADAAMAAAAjABMAAAADAAMAAAAjABIAAAADAAMAAAAjABEAAAADAAMAAAAjABAAAAACAAIAAAAiABYAAAADAAUAAAAiABUAAAADAAMAAAAiABQAAAADAAMAAAAiABMAAAADAAMAAAAiABIAAAADAAMAAAAiABEAAAADAAMAAAAiABAAAAACAAIAAAAhABYAAAADAAUAAAAhABUAAAADAAMAAAAhABQAAAADAAMAAAAhABMAAAADAAMAAAAhABIAAAADAAMAAAAhABEAAAADAAMAAAAhABAAAAACAAIAAAAgABYAAAADAAUAAAAgABUAAAADAAMAAAAgABQAAAADAAMAAAAgABMAAAADAAMAAAAgABIAAAADAAMAAAAgABEAAAADAAMAAAAgABAAAAACAAIAAAAfABYAAAADAAUAAAAfABUAAAADAAMAAAAfABQAAAADAAMAAAAfABMAAAADAAMAAAAfABIAAAADAAMAAAAfABEAAAADAAMAAAAfABAAAAACAAIAAAAeABYAAAADAAUAAAAeABUAAAADAAMAAAAeABQAAAADAAMAAAAeABMAAAADAAMAAAAeABIAAAADAAMAAAAeABEAAAADAAMAAAAeABAAAAACAAIAAAAdABYAAAADAAUAAAAdABUAAAADAAMAAAAdABQAAAADAAMAAAAdABMAAAADAAMAAAAdABIAAAADAAMAAAAdABEAAAADAAMAAAAdABAAAAAJAAQAAAAcABYAAAADAAUAAAAcABUAAAADAAMAAAAcABQAAAADAAMAAAAcABMAAAADAAMAAAAcABIAAAADAAMAAAAcABEAAAADAAMAAAAcABAAAAADAAMAAAAbABYAAAADAAUAAAAbABUAAAADAAMAAAAbABQAAAADAAMAAAAbABMAAAADAAMAAAAbABIAAAADAAMAAAAbABEAAAADAAMAAAAbABAAAAAMAAQAAAAaABYAAAADAAUAAAAaABUAAAADAAMAAAAaABQAAAADAAMAAAAaABMAAAADAAMAAAAaABIAAAADAAMAAAAaABEAAAADAAMAAAAaABAAAAACAAIAAAAZABYAAAADAAUAAAAZABUAAAADAAMAAAAZABQAAAADAAMAAAAZABMAAAADAAMAAAAZABIAAAADAAMAAAAZABEAAAADAAMAAAAZABAAAAACAAIAAAAYABYAAAADAAUAAAAYABUAAAADAAMAAAAYABQAAAADAAMAAAAYABMAAAADAAMAAAAYABIAAAADAAMAAAAYABEAAAADAAMAAAAYABAAAAACAAIAAAAXABYAAAADAAUAAAAXABUAAAADAAMAAAAXABQAAAADAAMAAAAXABMAAAADAAMAAAAXABIAAAADAAMAAAAXABEAAAADAAMAAAAXABAAAAACAAIAAAAWABYAAAADAAUAAAAWABUAAAADAAMAAAAWABQAAAADAAMAAAAWABMAAAADAAMAAAAWABIAAAADAAMAAAAWABEAAAADAAMAAAAWABAAAAACAAIAAAALAA8AAAAQAAoAAAAMAA4AAAARAAkAAAAMAA8AAAARAAoAAAAcAA4AAAATAAkAAAAcAA8AAAATAAoAAAAdAA8AAAAUAAoAAAANAA8AAAAEAAMAAAANAA4AAAAEAAIAAAAbAA4AAAABAAIAAAAbAA8AAAABAAQAAAA=")
tile_set = ExtResource("2_ixnh5")

[node name="ground" type="TileMapLayer" parent="Shaders/World"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAoABYAAgAEAAUAAAAoABUAAgAEAAQAAAAoABQAAgAEAAQAAAAoABMAAgAEAAMAAAAoABIAAgAEAAMAAAAoABEAAgAEAAMAAAAoABAAAgAEAAIAAAAnABYAAgACAAUAAAAnABUAAgADAAMAAAAnABQAAgACAAQAAAAnABMAAgADAAMAAAAnABIAAgACAAQAAAAnABEAAgACAAQAAAAnABAAAgACAAIAAAAmABYAAgACAAUAAAAmABUAAgACAAQAAAAmABQAAgACAAQAAAAmABMAAgACAAQAAAAmABIAAgACAAQAAAAmABEAAgACAAMAAAAmABAAAgADAAIAAAAlABYAAgACAAUAAAAlABUAAgACAAQAAAAlABQAAgACAAMAAAAlABMAAgADAAMAAAAlABIAAgADAAMAAAAlABEAAgACAAQAAAAlABAAAgADAAIAAAAkABYAAgACAAUAAAAkABUAAgACAAQAAAAkABQAAgACAAQAAAAkABMAAgACAAQAAAAkABIAAgACAAQAAAAkABEAAgACAAQAAAAkABAAAgACAAIAAAAjABYAAgACAAUAAAAjABUAAgACAAQAAAAjABQAAgACAAMAAAAjABMAAgACAAQAAAAjABIAAgACAAQAAAAjABEAAgACAAQAAAAjABAAAgACAAIAAAAiABYAAgACAAUAAAAiABUAAgADAAMAAAAiABQAAgACAAMAAAAiABMAAgACAAQAAAAiABIAAgACAAMAAAAiABEAAgACAAQAAAAiABAAAgACAAIAAAAhABYAAgACAAUAAAAhABUAAgACAAQAAAAhABQAAgACAAQAAAAhABMAAgACAAMAAAAhABIAAgACAAQAAAAhABEAAgACAAQAAAAhABAAAgADAAIAAAAgABYAAgACAAUAAAAgABUAAgACAAMAAAAgABQAAgACAAQAAAAgABMAAgACAAQAAAAgABIAAgACAAQAAAAgABEAAgACAAMAAAAgABAAAgACAAIAAAAfABYAAgACAAUAAAAfABUAAgACAAQAAAAfABQAAgACAAQAAAAfABMAAgACAAQAAAAfABIAAgACAAQAAAAfABEAAgACAAQAAAAfABAAAgADAAIAAAAeABYAAgACAAUAAAAeABUAAgACAAMAAAAeABQAAgACAAQAAAAeABMAAgACAAQAAAAeABIAAgACAAQAAAAeABEAAgACAAQAAAAeABAAAgACAAIAAAAdABYAAgACAAUAAAAdABUAAgACAAQAAAAdABQAAgACAAMAAAAdABMAAgADAAMAAAAdABIAAgACAAQAAAAdABEAAgADAAMAAAAdABAAAgAJAAQAAAAcABYAAgACAAUAAAAcABUAAgADAAMAAAAcABQAAgACAAQAAAAcABMAAgADAAMAAAAcABIAAgACAAMAAAAcABEAAgACAAQAAAAcABAAAgACAAQAAAAbABYAAgACAAUAAAAbABUAAgACAAMAAAAbABQAAgACAAQAAAAbABMAAgACAAMAAAAbABIAAgACAAMAAAAbABEAAgACAAQAAAAbABAAAgAMAAQAAAAaABYAAgACAAUAAAAaABUAAgACAAQAAAAaABQAAgACAAQAAAAaABMAAgADAAMAAAAaABIAAgACAAQAAAAaABEAAgACAAQAAAAaABAAAgACAAIAAAAZABYAAgACAAUAAAAZABUAAgACAAQAAAAZABQAAgADAAMAAAAZABMAAgACAAQAAAAZABIAAgACAAMAAAAZABEAAgACAAQAAAAZABAAAgACAAIAAAAYABYAAgACAAUAAAAYABUAAgADAAMAAAAYABQAAgACAAQAAAAYABMAAgACAAQAAAAYABIAAgACAAQAAAAYABEAAgACAAQAAAAYABAAAgADAAIAAAAXABYAAgACAAUAAAAXABUAAgACAAQAAAAXABQAAgACAAMAAAAXABMAAgACAAMAAAAXABIAAgACAAMAAAAXABEAAgACAAQAAAAXABAAAgACAAIAAAAWABYAAgACAAUAAAAWABUAAgACAAQAAAAWABQAAgACAAMAAAAWABMAAgADAAMAAAAWABIAAgACAAQAAAAWABEAAgACAAQAAAAWABAAAgACAAIAAAAVABYAAgACAAUAAAAVABUAAgACAAQAAAAVABQAAgACAAQAAAAVABMAAgACAAQAAAAVABIAAgACAAQAAAAVABEAAgACAAQAAAAVABAAAgADAAIAAAAUABYAAgACAAUAAAAUABUAAgACAAQAAAAUABQAAgACAAQAAAAUABMAAgACAAQAAAAUABIAAgACAAQAAAAUABEAAgACAAQAAAAUABAAAgADAAIAAAATABYAAgACAAUAAAATABUAAgACAAQAAAATABQAAgADAAMAAAATABMAAgACAAQAAAATABIAAgACAAQAAAATABEAAgACAAMAAAATABAAAgACAAIAAAASABYAAgACAAUAAAASABUAAgACAAQAAAASABQAAgACAAQAAAASABMAAgACAAQAAAASABIAAgACAAQAAAASABEAAgACAAQAAAASABAAAgACAAIAAAARABYAAgACAAUAAAARABUAAgACAAQAAAARABQAAgACAAQAAAARABMAAgACAAQAAAARABIAAgADAAMAAAARABEAAgACAAQAAAARABAAAgACAAIAAAAQABYAAgACAAUAAAAQABUAAgACAAMAAAAQABQAAgACAAQAAAAQABMAAgACAAQAAAAQABIAAgACAAQAAAAQABEAAgACAAQAAAAQABAAAgADAAIAAAAPABYAAgACAAUAAAAPABUAAgACAAQAAAAPABQAAgACAAMAAAAPABMAAgACAAMAAAAPABIAAgACAAQAAAAPABEAAgACAAQAAAAPABAAAgADAAIAAAAOABYAAgACAAUAAAAOABUAAgACAAQAAAAOABQAAgACAAQAAAAOABMAAgACAAQAAAAOABIAAgACAAQAAAAOABEAAgACAAMAAAAOABAAAgACAAIAAAANABYAAgACAAUAAAANABUAAgACAAQAAAANABQAAgACAAQAAAANABMAAgACAAQAAAANABIAAgACAAQAAAANABEAAgACAAQAAAANABAAAgAJAAQAAAAMABYAAgACAAUAAAAMABUAAgACAAQAAAAMABQAAgACAAQAAAAMABMAAgACAAQAAAAMABIAAgACAAQAAAAMABEAAgACAAQAAAAMABAAAgACAAQAAAALABYAAgACAAUAAAALABUAAgADAAMAAAALABQAAgACAAQAAAALABMAAgACAAQAAAALABIAAgACAAQAAAALABEAAgACAAQAAAALABAAAgAMAAQAAAAKABYAAgACAAUAAAAKABQAAgACAAQAAAAKABMAAgACAAQAAAAKABIAAgACAAQAAAAKABEAAgACAAMAAAAKABAAAgADAAIAAAAJABYAAgACAAUAAAAJABUAAgACAAQAAAAJABQAAgACAAMAAAAJABMAAgACAAMAAAAJABIAAgACAAQAAAAJABEAAgACAAQAAAAJABAAAgACAAIAAAAIABYAAgACAAUAAAAIABUAAgACAAMAAAAIABQAAgACAAQAAAAIABMAAgACAAQAAAAIABIAAgACAAQAAAAIABEAAgADAAMAAAAIABAAAgADAAIAAAAHABYAAgACAAUAAAAHABUAAgACAAMAAAAHABQAAgACAAQAAAAHABMAAgACAAMAAAAHABIAAgADAAMAAAAHABEAAgACAAQAAAAHABAAAgADAAIAAAAGABYAAgACAAUAAAAGABUAAgADAAMAAAAGABQAAgACAAQAAAAGABMAAgACAAQAAAAGABIAAgACAAMAAAAGABEAAgACAAQAAAAGABAAAgACAAIAAAAFABYAAgACAAUAAAAFABUAAgACAAQAAAAFABQAAgACAAQAAAAFABMAAgACAAMAAAAFABIAAgADAAMAAAAFABEAAgACAAQAAAAFABAAAgADAAIAAAAEABYAAgACAAUAAAAEABUAAgACAAQAAAAEABQAAgADAAMAAAAEABMAAgACAAQAAAAEABIAAgADAAMAAAAEABEAAgACAAQAAAAEABAAAgADAAIAAAADABYAAgACAAUAAAADABUAAgACAAQAAAADABQAAgADAAMAAAADABMAAgACAAQAAAADABIAAgACAAMAAAADABEAAgACAAQAAAADABAAAgACAAIAAAACABYAAgACAAUAAAACABUAAgACAAQAAAACABQAAgACAAQAAAACABMAAgACAAQAAAACABIAAgACAAQAAAACABEAAgACAAQAAAACABAAAgADAAIAAAABABYAAgACAAUAAAABABUAAgACAAQAAAABABQAAgACAAMAAAABABMAAgACAAQAAAABABIAAgADAAMAAAABABEAAgACAAQAAAABABAAAgACAAIAAAAAABYAAgACAAUAAAAAABUAAgADAAMAAAAAABQAAgACAAQAAAAAABMAAgACAAQAAAAAABIAAgACAAQAAAAAABEAAgADAAMAAAAAABAAAgACAAIAAAD//xYAAgABAAUAAAD//xUAAgABAAQAAAD//xQAAgABAAQAAAD//xMAAgABAAMAAAD//xIAAgABAAQAAAD//xEAAgABAAMAAAD//xAAAgABAAIAAAANAA8AAgAEAAQAAAANAA4AAgAEAAIAAAAMAA8AAgARAAoAAAAMAA4AAgARAAkAAAALAA8AAgAQAAoAAAAcAA8AAgATAAoAAAAcAA4AAgATAAkAAAAbAA8AAgABAAMAAAAbAA4AAgABAAIAAAAdAA8AAgAUAAoAAAAKABUAAgACAAMAAAA=")
tile_set = ExtResource("2_ixnh5")

[node name="WeaponDrop" parent="Shaders" instance=ExtResource("4_fev5x")]
position = Vector2(84, 75)
rotation = 0.680891
weapon = ExtResource("5_5sd4j")

[node name="WeaponDrop2" parent="Shaders" instance=ExtResource("4_fev5x")]
position = Vector2(28, 101)
rotation = 0.680891
weapon = ExtResource("5_mxtc1")
metadata/_edit_group_ = true

[node name="Players" type="Node2D" parent="Shaders"]

[node name="Player" parent="Shaders/Players" instance=ExtResource("2_h0fbh")]
position = Vector2(14, 119)
collision_layer = 34

[node name="MainCamera" parent="." instance=ExtResource("1_wgmf2")]
target_container = NodePath("../Shaders/Players")
metadata/_edit_lock_ = true

[node name="HUD" parent="MainCamera" instance=ExtResource("8_dr5ye")]
player_container = NodePath("../../Shaders/Players")
